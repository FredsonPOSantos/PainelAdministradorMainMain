<!-- Ficheiro: frontend/pages/admin_system_health.html -->
<div class="page-header">
    <h3>Saúde do Sistema</h3>
    <button class="btn-secondary" onclick="window.loadPage('admin_system_health')">
        <i class="fas fa-sync-alt"></i> Atualizar Agora
    </button>
</div>

<div id="systemHealthContainer" class="stats-grid">
    <!-- PostgreSQL -->
    <div class="stat-card" id="pgHealthCard">
        <div class="stat-card-icon color-gray"><i class="fas fa-database"></i></div>
        <div class="stat-card-info">
            <div class="stat-card-title">PostgreSQL</div>
            <div class="stat-card-value" id="pgStatusText">Verificando...</div>
            <div class="stat-card-details" id="pgStatusDetails">-</div>
        </div>
    </div>

    <!-- InfluxDB -->
    <div class="stat-card" id="influxHealthCard">
        <div class="stat-card-icon color-gray"><i class="fas fa-chart-area"></i></div>
        <div class="stat-card-info">
            <div class="stat-card-title">InfluxDB</div>
            <div class="stat-card-value" id="influxStatusText">Verificando...</div>
            <div class="stat-card-details" id="influxStatusDetails">-</div>
        </div>
    </div>

    <!-- Server Uptime -->
    <div class="stat-card">
        <div class="stat-card-icon color-blue"><i class="fas fa-clock"></i></div>
        <div class="stat-card-info">
            <div class="stat-card-title">Tempo de Atividade</div>
            <div class="stat-card-value" id="serverUptimeText">Verificando...</div>
            <div class="stat-card-details">Servidor Node.js</div>
        </div>
    </div>

    <!-- Offline Buffer -->
    <div class="stat-card" id="bufferHealthCard">
        <div class="stat-card-icon color-gray"><i class="fas fa-archive"></i></div>
        <div class="stat-card-info">
            <div class="stat-card-title">Buffer Offline</div>
            <div class="stat-card-value" id="bufferCountText">0</div>
            <div class="stat-card-details">Registos pendentes</div>
        </div>
    </div>
</div>

<!-- Hardware Stats -->
<div class="content-section" style="margin-top: 20px;">
    <div class="section-header">
        <h4>Recursos do Servidor</h4>
    </div>
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-card-icon color-orange"><i class="fas fa-microchip"></i></div>
            <div class="stat-card-info">
                <div class="stat-card-title">CPU</div>
                <div class="stat-card-value" id="serverCpuText">-</div>
                <div class="stat-card-details" id="serverTempText">Temp: -</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-card-icon color-purple"><i class="fas fa-memory"></i></div>
            <div class="stat-card-info">
                <div class="stat-card-title">Memória</div>
                <div class="stat-card-value" id="serverMemText">-</div>
                <div class="stat-card-details" id="serverMemDetails">-</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-card-icon color-teal"><i class="fas fa-hdd"></i></div>
            <div class="stat-card-info">
                <div class="stat-card-title">Disco</div>
                <div class="stat-card-value" id="serverDiskText">-</div>
                <div class="stat-card-details" id="serverDiskDetails">-</div>
            </div>
        </div>
    </div>
</div>

<!-- Recent Errors -->
<div class="content-section" style="margin-top: 20px;">
    <div class="section-header">
        <h4>Erros Recentes do Sistema</h4>
    </div>
    <div class="table-container">
        <table id="recentErrorsTable">
            <thead>
                <tr>
                    <th>Data/Hora</th>
                    <th>Mensagem de Erro</th>
                </tr>
            </thead>
            <tbody>
                <tr><td colspan="2" style="text-align: center;">A carregar...</td></tr>
            </tbody>
        </table>
    </div>
</div>